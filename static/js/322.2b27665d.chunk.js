"use strict";(self.webpackChunktodo_woman_up=self.webpackChunktodo_woman_up||[]).push([[322],{2322:function(e,r,a){a.r(r),a.d(r,{default:function(){return O}});var n=a(885),t=a(2791),s=a(6881),u=a(5983),i=a(1413),o=a(184),c=function(e){var r=e.isEditable,a=e.updateHandler,n=e.removeHandler,t=e.styles;return(0,o.jsx)(o.Fragment,{children:r?(0,o.jsx)("i",{onClick:function(){return a(!1)},className:t.agree_text_change+" fa-solid fa-check-to-slot"}):(0,o.jsx)("i",{onClick:n,className:t.remove_task+" fa-regular fa-trash-can"})})},l={container:"TaskCard_container__Xxu9s",task_card:"TaskCard_task_card__xk7C2",card_header:"TaskCard_card_header__np188",attached_files:"TaskCard_attached_files__xxYZy",file_count:"TaskCard_file_count__6sH5Q",file_input_options:"TaskCard_file_input_options__fREw6",card_text:"TaskCard_card_text__28p0T",card_readers:"TaskCard_card_readers__Kwy4p",card_deadline:"TaskCard_card_deadline__Q6me1",failed:"TaskCard_failed__8dVby",agree_text_change:"TaskCard_agree_text_change__9vP+Z",remove_task:"TaskCard_remove_task__i5gNB",input__hidden:"TaskCard_input__hidden__O-ACi",grabbing:"TaskCard_grabbing__tFCmv"},d=function(e){var r=e.styles,a=e.date,n=e.isEditable,s=e.handler,u=t.useRef(null),i=new Date(a).getTime();return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("span",{onClick:function(){var e;return null===u||void 0===u||null===(e=u.current)||void 0===e?void 0:e.showPicker()},className:"".concat(r.card_deadline," ").concat(i<(new Date).getTime()&&a?r.failed:""),children:["".concat(a," "),n&&(0,o.jsx)("i",{className:"fa-regular fa-calendar",children:(0,o.jsx)("input",{ref:u,type:"date",className:r.input__hidden,onChange:function(e){return s(e.target.value)}})})]})})},_=function(e){var r=e.isEditable,a=e.text,n=e.styles,t=e.handler,s=e.updateHandler;return(0,o.jsx)(o.Fragment,{children:r?(0,o.jsx)("textarea",{"aria-label":"input",readOnly:!r,className:n.card_text,onKeyDown:function(e){return e.ctrlKey&&"Enter"===e.code&&s(!1)},onChange:function(e){return t(e.target.value)},value:a}):(0,o.jsx)("p",{className:n.card_text,children:a})})},p=function(e){var r=e.styles,a=e.fileNames,n=e.refElem,t=e.uploadHandler,s=e.downloadHandler,u=e.menuToggler,i=e.showMenu;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("i",{className:r.attached_files+" fa-solid fa-paperclip",onClick:u,children:[!!a.length&&(0,o.jsx)("span",{className:r.file_count,children:a.length}),(0,o.jsx)("input",{type:"file",className:r.input__hidden,onChange:t,multiple:!0,ref:n}),i&&(0,o.jsxs)("div",{className:r.file_input_options,children:[(0,o.jsx)("p",{onClick:s,children:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c"}),(0,o.jsx)("p",{onClick:function(){var e;u(),null===(e=n.current)||void 0===e||e.click()},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]})})},f=function(e){var r=e.isEditable,a=e.text,n=e.styles,t=e.handler;return(0,o.jsx)(o.Fragment,{children:r?(0,o.jsx)("input",{"aria-label":"input",className:n.card_header,readOnly:!r,onChange:function(e){return t(e.target.value)},value:a}):(0,o.jsx)("h5",{className:n.card_header,children:a})})},h=function(e){var r=e.taskData,a=r.taskID,h=r.text,k=r.header,m=r.editable,x=r.deadline,v=r.readers,C=r.isCurrent,b=r.isInQueue,g=r.isCompleted,j=r.files,T=e.droppedGroup,G=(0,s.T)(),D=t.useState(m),N=(0,n.Z)(D,2),w=N[0],y=N[1],E={taskID:a,text:h,header:k,editable:m,deadline:x,readers:v,isCurrent:C,isInQueue:b,isCompleted:g,files:j},O=t.useState(k),I=(0,n.Z)(O,2),Q=I[0],Z=I[1],S=t.useState(h),H=(0,n.Z)(S,2),P=H[0],K=H[1],L=t.useState(x),A=(0,n.Z)(L,2),F=A[0],R=A[1],Y=t.useState(!1),B=(0,n.Z)(Y,2),J=B[0],M=B[1],U=t.useRef(null),V=t.useRef(null),z=(0,i.Z)((0,i.Z)({},E),{},{header:Q,text:P,editable:!1,deadline:F,isCurrent:C,isInQueue:b,isCompleted:g});t.useEffect((function(){var e=function(e){U.current&&!e.composedPath().includes(U.current)&&M(!1)};return document.addEventListener("click",(function(r){return e(r)})),document.removeEventListener("click",(function(r){return e(r)}))}),[]);var X,W=function(e){e?y(e):(y(!1),G((0,u.OV)(z)),G((0,u.xJ)(z)))};return(0,o.jsxs)("li",{ref:U,className:l.task_card,onTouchStart:function(){return X=setTimeout((function(){return W(!0)}),500)},onTouchEnd:function(){return clearTimeout(X)},onDoubleClick:function(){return W(!0)},onDragStart:function(e){e.dataTransfer.dropEffect="move",e.dataTransfer.effectAllowed="move"},onDragEnd:function(){G((0,u.LI)([a,T])),G((0,u.xJ)((0,i.Z)((0,i.Z)({},z),{},{isCurrent:"current"===T,isInQueue:"inQueue"===T,isCompleted:"completed"===T})))},onKeyDown:function(e){return"Escape"===e.code&&y(!1)},draggable:!w,children:[(0,o.jsx)(f,{isEditable:w,text:Q,styles:l,handler:Z}),(0,o.jsx)(p,{styles:l,fileNames:j,refElem:V,uploadHandler:function(){var e;null!==(e=V.current)&&void 0!==e&&e.files&&G((0,u.Uh)({files:V.current.files,taskID:a}))},downloadHandler:function(){j.length&&G((0,u.tR)(a))},menuToggler:function(){return M((function(e){return!e}))},showMenu:J}),(0,o.jsx)(_,{isEditable:w,text:P,styles:l,handler:K,updateHandler:W}),(0,o.jsx)("div",{className:l.card_readers}),(0,o.jsx)(d,{styles:l,date:null!==F&&void 0!==F?F:"\u0411\u0435\u0441\u0441\u0440\u043e\u0447\u043d\u043e",isEditable:w,handler:R}),(0,o.jsx)(c,{isEditable:w,updateHandler:W,removeHandler:function(){G((0,u.yJ)(a)),G((0,u.yT)({taskID:a,files:j}))},styles:l})]})},k="TaskGroup_current_tasks_block__LYdBw",m="TaskGroup_inQueue_tasks_block__H1xpY",x="TaskGroup_completed_tasks_block__Kxei+",v="TaskGroup_tasks_block_header__oO9hU",C="TaskGroup_add_task_button__5v-RP",b=function(e){var r=e.currentGroup,a=e.setDroppedGroup,n=e.droppedGroup,t=e.tabGroup,i=(0,s.T)(),c=(0,s.C)((function(e){return e.searchSlice})).input,l=(0,s.C)(u.KC),d=l.taskList,_=l.status,p="current"===r?"\u0422\u0435\u043a\u0443\u0449\u0438\u0435":"inQueue"===r?"\u0412 \u043e\u0447\u0435\u0440\u0435\u0434\u0438":"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435",f="current"===r?k:"inQueue"===r?m:x;return(0,o.jsxs)("ul",{"data-tab-group":"".concat(t),className:f,onDragOverCapture:function(e){e.preventDefault(),a(r)},children:[(0,o.jsx)("h4",{className:v,children:p}),(0,o.jsx)("button",{className:C,onClick:function(){return e=r,void(_!==u.YG.WAITING&&_!==u.OP.SUCCESS||i((0,u.Zk)(e)));var e},children:"+"}),d.filter((function(e){return e.header.toLowerCase().includes(null===c||void 0===c?void 0:c.toLowerCase())})).map((function(e){return"current"===r?e.isCurrent&&(0,o.jsx)(h,{taskData:e,droppedGroup:n},e.taskID):"inQueue"===r?e.isInQueue&&(0,o.jsx)(h,{taskData:e,droppedGroup:n},e.taskID):e.isCompleted&&(0,o.jsx)(h,{taskData:e,droppedGroup:n},e.taskID)})).reverse()]})},g="TaskGroupTabs_tabs__2fQy7",j="TaskGroupTabs_tab__z93lk",T="TaskGroupTabs_arrows__PuPui",G=function(e){var r=e.tabGroup,a=e.onDragOverTab,n=e.setTabGroup;return(0,o.jsxs)("ul",{className:g,"data-tab-group":r,children:[(0,o.jsx)("li",{className:T,children:(0,o.jsx)("button",{onClick:function(){return r>1&&n((function(e){return--e}))},children:"<"})}),(0,o.jsx)("li",{onDragOverCapture:function(e){return a("current",e)},className:j,onClick:function(){return n(1)},children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0435"}),(0,o.jsx)("li",{onDragOverCapture:function(e){return a("inQueue",e)},className:j,onClick:function(){return n(2)},children:"\u0412 \u043e\u0447\u0435\u0440\u0435\u0434\u0438"}),(0,o.jsx)("li",{onDragOverCapture:function(e){return a("completed",e)},className:j,onClick:function(){return n(3)},children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435"}),(0,o.jsx)("li",{className:T,children:(0,o.jsx)("button",{onClick:function(){return r<3&&n((function(e){return++e}))},children:">"})})]})},D="Overview_container__OwmK9",N="Overview_overview__K7tBb",w="Overview_loading_wrapper__d5eX3",y="Overview_loading_message__1PSIt",E="Overview_dots_bars__VZTzo",O=function(e){var r=e.showMenu,a=(0,s.T)(),i=(0,s.C)(u.KC),c=i.taskList,l=i.status,d=t.useState(""),_=(0,n.Z)(d,2),p=_[0],f=_[1],h=t.useState(1),k=(0,n.Z)(h,2),m=k[0],x=k[1];if(t.useEffect((function(){l===u.YG.ADDED&&a((0,u.Pb)(c[c.length-1]))}),[l]),l===u.OP.LOADING)return(0,o.jsx)("section",{className:"".concat(N," ").concat(D),children:(0,o.jsxs)("div",{className:w,children:[(0,o.jsx)("div",{className:E}),(0,o.jsx)("span",{className:y,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u043f\u0438\u0441\u043a\u0430 \u0437\u0430\u0434\u0430\u0447"})]})});return(0,o.jsxs)("section",{className:"".concat(N," ").concat(D),"data-menu":r,children:[(0,o.jsx)(G,{tabGroup:m,setTabGroup:x,onDragOverTab:function(e,r){r.preventDefault(),r.dataTransfer.dropEffect="move",r.dataTransfer.effectAllowed="move",f(e)}}),(0,o.jsx)(b,{tabGroup:m,currentGroup:"current",setDroppedGroup:f,droppedGroup:p}),(0,o.jsx)(b,{tabGroup:m,currentGroup:"inQueue",setDroppedGroup:f,droppedGroup:p}),(0,o.jsx)(b,{tabGroup:m,currentGroup:"completed",setDroppedGroup:f,droppedGroup:p})]})}}}]);
//# sourceMappingURL=322.2b27665d.chunk.js.map